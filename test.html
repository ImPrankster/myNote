<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>用于测试的HTML页面</title>
</head>
<body>
<script>
    let pipe = (function () {
        return function (value) {
            let funcStack = []
            let oproxy = new Proxy({}, {
                get: function (pipeObject, fnName) {
                    if (fnName === 'get') {
                        return funcStack.reduce(function (val, fn) {
                            return fn(val)
                        }, value)
                    }
                    funcStack.push(window[fnName])
                    return oproxy
                }
            })

            return oproxy
        }
    }())
    // 必须要用var才能赋值到window对象上
    var double = n => n * 2
    var pow = n => n * n
    var reverseInt = n => n.toString().split('').reverse().join('') | 0

    console.log(pipe(3).double.pow.reverseInt.get)// 63
</script>
</body>
</html>
